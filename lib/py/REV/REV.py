# automatically generated by the FlatBuffers compiler, do not modify

# namespace: 

import flatbuffers
from flatbuffers.compat import import_numpy
np = import_numpy()

# Review - User review of a storefront listing
class REV(object):
    __slots__ = ['_tab']

    @classmethod
    def GetRootAs(cls, buf, offset=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, offset)
        x = REV()
        x.Init(buf, n + offset)
        return x

    @classmethod
    def GetRootAsREV(cls, buf, offset=0):
        """This method is deprecated. Please switch to GetRootAs."""
        return cls.GetRootAs(buf, offset)
    @classmethod
    def REVBufferHasIdentifier(cls, buf, offset, size_prefixed=False):
        return flatbuffers.util.BufferHasIdentifier(buf, offset, b"\x24\x52\x45\x56", size_prefixed=size_prefixed)

    # REV
    def Init(self, buf, pos):
        self._tab = flatbuffers.table.Table(buf, pos)

    # Unique identifier for this review
    # REV
    def REVIEW_ID(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(4))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # ID of the listing being reviewed
    # REV
    def LISTING_ID(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(6))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # Peer ID of the reviewer
    # REV
    def REVIEWER_PEER_ID(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(8))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # Rating from 1-5 stars
    # REV
    def RATING(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(10))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Uint8Flags, o + self._tab.Pos)
        return 0

    # Review title
    # REV
    def TITLE(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(12))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # Review content/body
    # REV
    def CONTENT(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(14))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # ACL grant ID proving purchase (proof of purchase)
    # REV
    def ACL_GRANT_ID(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(16))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # Unix timestamp of the review
    # REV
    def TIMESTAMP(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(18))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Uint64Flags, o + self._tab.Pos)
        return 0

    # Ed25519 signature from reviewer
    # REV
    def REVIEWER_SIGNATURE(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(20))
        if o != 0:
            a = self._tab.Vector(o)
            return self._tab.Get(flatbuffers.number_types.Uint8Flags, a + flatbuffers.number_types.UOffsetTFlags.py_type(j * 1))
        return 0

    # REV
    def REVIEWER_SIGNATUREAsNumpy(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(20))
        if o != 0:
            return self._tab.GetVectorAsNumpy(flatbuffers.number_types.Uint8Flags, o)
        return 0

    # REV
    def REVIEWER_SIGNATURELength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(20))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # REV
    def REVIEWER_SIGNATUREIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(20))
        return o == 0

def REVStart(builder):
    builder.StartObject(9)

def Start(builder):
    REVStart(builder)

def REVAddREVIEW_ID(builder, REVIEW_ID):
    builder.PrependUOffsetTRelativeSlot(0, flatbuffers.number_types.UOffsetTFlags.py_type(REVIEW_ID), 0)

def AddREVIEW_ID(builder, REVIEW_ID):
    REVAddREVIEW_ID(builder, REVIEW_ID)

def REVAddLISTING_ID(builder, LISTING_ID):
    builder.PrependUOffsetTRelativeSlot(1, flatbuffers.number_types.UOffsetTFlags.py_type(LISTING_ID), 0)

def AddLISTING_ID(builder, LISTING_ID):
    REVAddLISTING_ID(builder, LISTING_ID)

def REVAddREVIEWER_PEER_ID(builder, REVIEWER_PEER_ID):
    builder.PrependUOffsetTRelativeSlot(2, flatbuffers.number_types.UOffsetTFlags.py_type(REVIEWER_PEER_ID), 0)

def AddREVIEWER_PEER_ID(builder, REVIEWER_PEER_ID):
    REVAddREVIEWER_PEER_ID(builder, REVIEWER_PEER_ID)

def REVAddRATING(builder, RATING):
    builder.PrependUint8Slot(3, RATING, 0)

def AddRATING(builder, RATING):
    REVAddRATING(builder, RATING)

def REVAddTITLE(builder, TITLE):
    builder.PrependUOffsetTRelativeSlot(4, flatbuffers.number_types.UOffsetTFlags.py_type(TITLE), 0)

def AddTITLE(builder, TITLE):
    REVAddTITLE(builder, TITLE)

def REVAddCONTENT(builder, CONTENT):
    builder.PrependUOffsetTRelativeSlot(5, flatbuffers.number_types.UOffsetTFlags.py_type(CONTENT), 0)

def AddCONTENT(builder, CONTENT):
    REVAddCONTENT(builder, CONTENT)

def REVAddACL_GRANT_ID(builder, ACL_GRANT_ID):
    builder.PrependUOffsetTRelativeSlot(6, flatbuffers.number_types.UOffsetTFlags.py_type(ACL_GRANT_ID), 0)

def AddACL_GRANT_ID(builder, ACL_GRANT_ID):
    REVAddACL_GRANT_ID(builder, ACL_GRANT_ID)

def REVAddTIMESTAMP(builder, TIMESTAMP):
    builder.PrependUint64Slot(7, TIMESTAMP, 0)

def AddTIMESTAMP(builder, TIMESTAMP):
    REVAddTIMESTAMP(builder, TIMESTAMP)

def REVAddREVIEWER_SIGNATURE(builder, REVIEWER_SIGNATURE):
    builder.PrependUOffsetTRelativeSlot(8, flatbuffers.number_types.UOffsetTFlags.py_type(REVIEWER_SIGNATURE), 0)

def AddREVIEWER_SIGNATURE(builder, REVIEWER_SIGNATURE):
    REVAddREVIEWER_SIGNATURE(builder, REVIEWER_SIGNATURE)

def REVStartREVIEWER_SIGNATUREVector(builder, numElems):
    return builder.StartVector(1, numElems, 1)

def StartREVIEWER_SIGNATUREVector(builder, numElems):
    return REVStartREVIEWER_SIGNATUREVector(builder, numElems)

def REVEnd(builder):
    return builder.EndObject()

def End(builder):
    return REVEnd(builder)

try:
    from typing import List
except:
    pass

class REVT(object):

    # REVT
    def __init__(self):
        self.REVIEW_ID = None  # type: str
        self.LISTING_ID = None  # type: str
        self.REVIEWER_PEER_ID = None  # type: str
        self.RATING = 0  # type: int
        self.TITLE = None  # type: str
        self.CONTENT = None  # type: str
        self.ACL_GRANT_ID = None  # type: str
        self.TIMESTAMP = 0  # type: int
        self.REVIEWER_SIGNATURE = None  # type: List[int]

    @classmethod
    def InitFromBuf(cls, buf, pos):
        REV = REV()
        REV.Init(buf, pos)
        return cls.InitFromObj(REV)

    @classmethod
    def InitFromPackedBuf(cls, buf, pos=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, pos)
        return cls.InitFromBuf(buf, pos+n)

    @classmethod
    def InitFromObj(cls, REV):
        x = REVT()
        x._UnPack(REV)
        return x

    # REVT
    def _UnPack(self, REV):
        if REV is None:
            return
        self.REVIEW_ID = REV.REVIEW_ID()
        self.LISTING_ID = REV.LISTING_ID()
        self.REVIEWER_PEER_ID = REV.REVIEWER_PEER_ID()
        self.RATING = REV.RATING()
        self.TITLE = REV.TITLE()
        self.CONTENT = REV.CONTENT()
        self.ACL_GRANT_ID = REV.ACL_GRANT_ID()
        self.TIMESTAMP = REV.TIMESTAMP()
        if not REV.REVIEWER_SIGNATUREIsNone():
            if np is None:
                self.REVIEWER_SIGNATURE = []
                for i in range(REV.REVIEWER_SIGNATURELength()):
                    self.REVIEWER_SIGNATURE.append(REV.REVIEWER_SIGNATURE(i))
            else:
                self.REVIEWER_SIGNATURE = REV.REVIEWER_SIGNATUREAsNumpy()

    # REVT
    def Pack(self, builder):
        if self.REVIEW_ID is not None:
            REVIEW_ID = builder.CreateString(self.REVIEW_ID)
        if self.LISTING_ID is not None:
            LISTING_ID = builder.CreateString(self.LISTING_ID)
        if self.REVIEWER_PEER_ID is not None:
            REVIEWER_PEER_ID = builder.CreateString(self.REVIEWER_PEER_ID)
        if self.TITLE is not None:
            TITLE = builder.CreateString(self.TITLE)
        if self.CONTENT is not None:
            CONTENT = builder.CreateString(self.CONTENT)
        if self.ACL_GRANT_ID is not None:
            ACL_GRANT_ID = builder.CreateString(self.ACL_GRANT_ID)
        if self.REVIEWER_SIGNATURE is not None:
            if np is not None and type(self.REVIEWER_SIGNATURE) is np.ndarray:
                REVIEWER_SIGNATURE = builder.CreateNumpyVector(self.REVIEWER_SIGNATURE)
            else:
                REVStartREVIEWER_SIGNATUREVector(builder, len(self.REVIEWER_SIGNATURE))
                for i in reversed(range(len(self.REVIEWER_SIGNATURE))):
                    builder.PrependUint8(self.REVIEWER_SIGNATURE[i])
                REVIEWER_SIGNATURE = builder.EndVector()
        REVStart(builder)
        if self.REVIEW_ID is not None:
            REVAddREVIEW_ID(builder, REVIEW_ID)
        if self.LISTING_ID is not None:
            REVAddLISTING_ID(builder, LISTING_ID)
        if self.REVIEWER_PEER_ID is not None:
            REVAddREVIEWER_PEER_ID(builder, REVIEWER_PEER_ID)
        REVAddRATING(builder, self.RATING)
        if self.TITLE is not None:
            REVAddTITLE(builder, TITLE)
        if self.CONTENT is not None:
            REVAddCONTENT(builder, CONTENT)
        if self.ACL_GRANT_ID is not None:
            REVAddACL_GRANT_ID(builder, ACL_GRANT_ID)
        REVAddTIMESTAMP(builder, self.TIMESTAMP)
        if self.REVIEWER_SIGNATURE is not None:
            REVAddREVIEWER_SIGNATURE(builder, REVIEWER_SIGNATURE)
        REV = REVEnd(builder)
        return REV
