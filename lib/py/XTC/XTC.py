# automatically generated by the FlatBuffers compiler, do not modify

# namespace: 

import flatbuffers
from flatbuffers.compat import import_numpy
np = import_numpy()

# SpaceSystem - Root element for XTCE document
# A SpaceSystem defines the telemetry and command configuration for a space
# vehicle or subsystem. SpaceSystems can be nested hierarchically to represent
# the structure of a spacecraft (e.g., spacecraft -> subsystem -> payload).
class XTC(object):
    __slots__ = ['_tab']

    @classmethod
    def GetRootAs(cls, buf, offset=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, offset)
        x = XTC()
        x.Init(buf, n + offset)
        return x

    @classmethod
    def GetRootAsXTC(cls, buf, offset=0):
        """This method is deprecated. Please switch to GetRootAs."""
        return cls.GetRootAs(buf, offset)
    @classmethod
    def XTCBufferHasIdentifier(cls, buf, offset, size_prefixed=False):
        return flatbuffers.util.BufferHasIdentifier(buf, offset, b"\x24\x58\x54\x43", size_prefixed=size_prefixed)

    # XTC
    def Init(self, buf, pos):
        self._tab = flatbuffers.table.Table(buf, pos)

    # Name of this space system
    # XTC
    def NAME(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(4))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # Short description
    # XTC
    def SHORT_DESCRIPTION(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(6))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # Long description
    # XTC
    def LONG_DESCRIPTION(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(8))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # Operational status
    # XTC
    def OPERATIONAL_STATUS(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(10))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # Document header
    # XTC
    def HEADER(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(12))
        if o != 0:
            x = self._tab.Indirect(o + self._tab.Pos)
            from XTCHeader import XTCHeader
            obj = XTCHeader()
            obj.Init(self._tab.Bytes, x)
            return obj
        return None

    # Telemetry metadata
    # XTC
    def TELEMETRY_META_DATA(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(14))
        if o != 0:
            x = self._tab.Indirect(o + self._tab.Pos)
            from TelemetryMetaData import TelemetryMetaData
            obj = TelemetryMetaData()
            obj.Init(self._tab.Bytes, x)
            return obj
        return None

    # Command metadata
    # XTC
    def COMMAND_META_DATA(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(16))
        if o != 0:
            x = self._tab.Indirect(o + self._tab.Pos)
            from CommandMetaData import CommandMetaData
            obj = CommandMetaData()
            obj.Init(self._tab.Bytes, x)
            return obj
        return None

    # Service definitions
    # XTC
    def SERVICE_SET(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(18))
        if o != 0:
            x = self._tab.Indirect(o + self._tab.Pos)
            from ServiceSet import ServiceSet
            obj = ServiceSet()
            obj.Init(self._tab.Bytes, x)
            return obj
        return None

    # Child space systems (hierarchical structure)
    # XTC
    def CHILD_SYSTEMS(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(20))
        if o != 0:
            x = self._tab.Vector(o)
            x += flatbuffers.number_types.UOffsetTFlags.py_type(j) * 4
            x = self._tab.Indirect(x)
            from XTC import XTC
            obj = XTC()
            obj.Init(self._tab.Bytes, x)
            return obj
        return None

    # XTC
    def CHILD_SYSTEMSLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(20))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # XTC
    def CHILD_SYSTEMSIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(20))
        return o == 0

def XTCStart(builder):
    builder.StartObject(9)

def Start(builder):
    XTCStart(builder)

def XTCAddNAME(builder, NAME):
    builder.PrependUOffsetTRelativeSlot(0, flatbuffers.number_types.UOffsetTFlags.py_type(NAME), 0)

def AddNAME(builder, NAME):
    XTCAddNAME(builder, NAME)

def XTCAddSHORT_DESCRIPTION(builder, SHORT_DESCRIPTION):
    builder.PrependUOffsetTRelativeSlot(1, flatbuffers.number_types.UOffsetTFlags.py_type(SHORT_DESCRIPTION), 0)

def AddSHORT_DESCRIPTION(builder, SHORT_DESCRIPTION):
    XTCAddSHORT_DESCRIPTION(builder, SHORT_DESCRIPTION)

def XTCAddLONG_DESCRIPTION(builder, LONG_DESCRIPTION):
    builder.PrependUOffsetTRelativeSlot(2, flatbuffers.number_types.UOffsetTFlags.py_type(LONG_DESCRIPTION), 0)

def AddLONG_DESCRIPTION(builder, LONG_DESCRIPTION):
    XTCAddLONG_DESCRIPTION(builder, LONG_DESCRIPTION)

def XTCAddOPERATIONAL_STATUS(builder, OPERATIONAL_STATUS):
    builder.PrependUOffsetTRelativeSlot(3, flatbuffers.number_types.UOffsetTFlags.py_type(OPERATIONAL_STATUS), 0)

def AddOPERATIONAL_STATUS(builder, OPERATIONAL_STATUS):
    XTCAddOPERATIONAL_STATUS(builder, OPERATIONAL_STATUS)

def XTCAddHEADER(builder, HEADER):
    builder.PrependUOffsetTRelativeSlot(4, flatbuffers.number_types.UOffsetTFlags.py_type(HEADER), 0)

def AddHEADER(builder, HEADER):
    XTCAddHEADER(builder, HEADER)

def XTCAddTELEMETRY_META_DATA(builder, TELEMETRY_META_DATA):
    builder.PrependUOffsetTRelativeSlot(5, flatbuffers.number_types.UOffsetTFlags.py_type(TELEMETRY_META_DATA), 0)

def AddTELEMETRY_META_DATA(builder, TELEMETRY_META_DATA):
    XTCAddTELEMETRY_META_DATA(builder, TELEMETRY_META_DATA)

def XTCAddCOMMAND_META_DATA(builder, COMMAND_META_DATA):
    builder.PrependUOffsetTRelativeSlot(6, flatbuffers.number_types.UOffsetTFlags.py_type(COMMAND_META_DATA), 0)

def AddCOMMAND_META_DATA(builder, COMMAND_META_DATA):
    XTCAddCOMMAND_META_DATA(builder, COMMAND_META_DATA)

def XTCAddSERVICE_SET(builder, SERVICE_SET):
    builder.PrependUOffsetTRelativeSlot(7, flatbuffers.number_types.UOffsetTFlags.py_type(SERVICE_SET), 0)

def AddSERVICE_SET(builder, SERVICE_SET):
    XTCAddSERVICE_SET(builder, SERVICE_SET)

def XTCAddCHILD_SYSTEMS(builder, CHILD_SYSTEMS):
    builder.PrependUOffsetTRelativeSlot(8, flatbuffers.number_types.UOffsetTFlags.py_type(CHILD_SYSTEMS), 0)

def AddCHILD_SYSTEMS(builder, CHILD_SYSTEMS):
    XTCAddCHILD_SYSTEMS(builder, CHILD_SYSTEMS)

def XTCStartCHILD_SYSTEMSVector(builder, numElems):
    return builder.StartVector(4, numElems, 4)

def StartCHILD_SYSTEMSVector(builder, numElems):
    return XTCStartCHILD_SYSTEMSVector(builder, numElems)

def XTCEnd(builder):
    return builder.EndObject()

def End(builder):
    return XTCEnd(builder)

import CommandMetaData
import ServiceSet
import TelemetryMetaData
import XTCHeader
try:
    from typing import List, Optional
except:
    pass

class XTCT(object):

    # XTCT
    def __init__(self):
        self.NAME = None  # type: str
        self.SHORT_DESCRIPTION = None  # type: str
        self.LONG_DESCRIPTION = None  # type: str
        self.OPERATIONAL_STATUS = None  # type: str
        self.HEADER = None  # type: Optional[XTCHeader.XTCHeaderT]
        self.TELEMETRY_META_DATA = None  # type: Optional[TelemetryMetaData.TelemetryMetaDataT]
        self.COMMAND_META_DATA = None  # type: Optional[CommandMetaData.CommandMetaDataT]
        self.SERVICE_SET = None  # type: Optional[ServiceSet.ServiceSetT]
        self.CHILD_SYSTEMS = None  # type: List[XTC.XTCT]

    @classmethod
    def InitFromBuf(cls, buf, pos):
        XTC = XTC()
        XTC.Init(buf, pos)
        return cls.InitFromObj(XTC)

    @classmethod
    def InitFromPackedBuf(cls, buf, pos=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, pos)
        return cls.InitFromBuf(buf, pos+n)

    @classmethod
    def InitFromObj(cls, XTC):
        x = XTCT()
        x._UnPack(XTC)
        return x

    # XTCT
    def _UnPack(self, XTC):
        if XTC is None:
            return
        self.NAME = XTC.NAME()
        self.SHORT_DESCRIPTION = XTC.SHORT_DESCRIPTION()
        self.LONG_DESCRIPTION = XTC.LONG_DESCRIPTION()
        self.OPERATIONAL_STATUS = XTC.OPERATIONAL_STATUS()
        if XTC.HEADER() is not None:
            self.HEADER = XTCHeader.XTCHeaderT.InitFromObj(XTC.HEADER())
        if XTC.TELEMETRY_META_DATA() is not None:
            self.TELEMETRY_META_DATA = TelemetryMetaData.TelemetryMetaDataT.InitFromObj(XTC.TELEMETRY_META_DATA())
        if XTC.COMMAND_META_DATA() is not None:
            self.COMMAND_META_DATA = CommandMetaData.CommandMetaDataT.InitFromObj(XTC.COMMAND_META_DATA())
        if XTC.SERVICE_SET() is not None:
            self.SERVICE_SET = ServiceSet.ServiceSetT.InitFromObj(XTC.SERVICE_SET())
        if not XTC.CHILD_SYSTEMSIsNone():
            self.CHILD_SYSTEMS = []
            for i in range(XTC.CHILD_SYSTEMSLength()):
                if XTC.CHILD_SYSTEMS(i) is None:
                    self.CHILD_SYSTEMS.append(None)
                else:
                    xTC_ = XTC.XTCT.InitFromObj(XTC.CHILD_SYSTEMS(i))
                    self.CHILD_SYSTEMS.append(xTC_)

    # XTCT
    def Pack(self, builder):
        if self.NAME is not None:
            NAME = builder.CreateString(self.NAME)
        if self.SHORT_DESCRIPTION is not None:
            SHORT_DESCRIPTION = builder.CreateString(self.SHORT_DESCRIPTION)
        if self.LONG_DESCRIPTION is not None:
            LONG_DESCRIPTION = builder.CreateString(self.LONG_DESCRIPTION)
        if self.OPERATIONAL_STATUS is not None:
            OPERATIONAL_STATUS = builder.CreateString(self.OPERATIONAL_STATUS)
        if self.HEADER is not None:
            HEADER = self.HEADER.Pack(builder)
        if self.TELEMETRY_META_DATA is not None:
            TELEMETRY_META_DATA = self.TELEMETRY_META_DATA.Pack(builder)
        if self.COMMAND_META_DATA is not None:
            COMMAND_META_DATA = self.COMMAND_META_DATA.Pack(builder)
        if self.SERVICE_SET is not None:
            SERVICE_SET = self.SERVICE_SET.Pack(builder)
        if self.CHILD_SYSTEMS is not None:
            CHILD_SYSTEMSlist = []
            for i in range(len(self.CHILD_SYSTEMS)):
                CHILD_SYSTEMSlist.append(self.CHILD_SYSTEMS[i].Pack(builder))
            XTCStartCHILD_SYSTEMSVector(builder, len(self.CHILD_SYSTEMS))
            for i in reversed(range(len(self.CHILD_SYSTEMS))):
                builder.PrependUOffsetTRelative(CHILD_SYSTEMSlist[i])
            CHILD_SYSTEMS = builder.EndVector()
        XTCStart(builder)
        if self.NAME is not None:
            XTCAddNAME(builder, NAME)
        if self.SHORT_DESCRIPTION is not None:
            XTCAddSHORT_DESCRIPTION(builder, SHORT_DESCRIPTION)
        if self.LONG_DESCRIPTION is not None:
            XTCAddLONG_DESCRIPTION(builder, LONG_DESCRIPTION)
        if self.OPERATIONAL_STATUS is not None:
            XTCAddOPERATIONAL_STATUS(builder, OPERATIONAL_STATUS)
        if self.HEADER is not None:
            XTCAddHEADER(builder, HEADER)
        if self.TELEMETRY_META_DATA is not None:
            XTCAddTELEMETRY_META_DATA(builder, TELEMETRY_META_DATA)
        if self.COMMAND_META_DATA is not None:
            XTCAddCOMMAND_META_DATA(builder, COMMAND_META_DATA)
        if self.SERVICE_SET is not None:
            XTCAddSERVICE_SET(builder, SERVICE_SET)
        if self.CHILD_SYSTEMS is not None:
            XTCAddCHILD_SYSTEMS(builder, CHILD_SYSTEMS)
        XTC = XTCEnd(builder)
        return XTC
