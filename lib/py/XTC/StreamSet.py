# automatically generated by the FlatBuffers compiler, do not modify

# namespace: 

import flatbuffers
from flatbuffers.compat import import_numpy
np = import_numpy()

# Collection of streams
class StreamSet(object):
    __slots__ = ['_tab']

    @classmethod
    def GetRootAs(cls, buf, offset=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, offset)
        x = StreamSet()
        x.Init(buf, n + offset)
        return x

    @classmethod
    def GetRootAsStreamSet(cls, buf, offset=0):
        """This method is deprecated. Please switch to GetRootAs."""
        return cls.GetRootAs(buf, offset)
    @classmethod
    def StreamSetBufferHasIdentifier(cls, buf, offset, size_prefixed=False):
        return flatbuffers.util.BufferHasIdentifier(buf, offset, b"\x24\x58\x54\x43", size_prefixed=size_prefixed)

    # StreamSet
    def Init(self, buf, pos):
        self._tab = flatbuffers.table.Table(buf, pos)

    # Fixed frame streams
    # StreamSet
    def FIXED_FRAME_STREAMS(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(4))
        if o != 0:
            x = self._tab.Vector(o)
            x += flatbuffers.number_types.UOffsetTFlags.py_type(j) * 4
            x = self._tab.Indirect(x)
            from FixedFrameStream import FixedFrameStream
            obj = FixedFrameStream()
            obj.Init(self._tab.Bytes, x)
            return obj
        return None

    # StreamSet
    def FIXED_FRAME_STREAMSLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(4))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # StreamSet
    def FIXED_FRAME_STREAMSIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(4))
        return o == 0

    # Variable frame streams
    # StreamSet
    def VARIABLE_FRAME_STREAMS(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(6))
        if o != 0:
            x = self._tab.Vector(o)
            x += flatbuffers.number_types.UOffsetTFlags.py_type(j) * 4
            x = self._tab.Indirect(x)
            from VariableFrameStream import VariableFrameStream
            obj = VariableFrameStream()
            obj.Init(self._tab.Bytes, x)
            return obj
        return None

    # StreamSet
    def VARIABLE_FRAME_STREAMSLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(6))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # StreamSet
    def VARIABLE_FRAME_STREAMSIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(6))
        return o == 0

    # Custom streams
    # StreamSet
    def CUSTOM_STREAMS(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(8))
        if o != 0:
            x = self._tab.Vector(o)
            x += flatbuffers.number_types.UOffsetTFlags.py_type(j) * 4
            x = self._tab.Indirect(x)
            from CustomStream import CustomStream
            obj = CustomStream()
            obj.Init(self._tab.Bytes, x)
            return obj
        return None

    # StreamSet
    def CUSTOM_STREAMSLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(8))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # StreamSet
    def CUSTOM_STREAMSIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(8))
        return o == 0

def StreamSetStart(builder):
    builder.StartObject(3)

def Start(builder):
    StreamSetStart(builder)

def StreamSetAddFIXED_FRAME_STREAMS(builder, FIXED_FRAME_STREAMS):
    builder.PrependUOffsetTRelativeSlot(0, flatbuffers.number_types.UOffsetTFlags.py_type(FIXED_FRAME_STREAMS), 0)

def AddFIXED_FRAME_STREAMS(builder, FIXED_FRAME_STREAMS):
    StreamSetAddFIXED_FRAME_STREAMS(builder, FIXED_FRAME_STREAMS)

def StreamSetStartFIXED_FRAME_STREAMSVector(builder, numElems):
    return builder.StartVector(4, numElems, 4)

def StartFIXED_FRAME_STREAMSVector(builder, numElems):
    return StreamSetStartFIXED_FRAME_STREAMSVector(builder, numElems)

def StreamSetAddVARIABLE_FRAME_STREAMS(builder, VARIABLE_FRAME_STREAMS):
    builder.PrependUOffsetTRelativeSlot(1, flatbuffers.number_types.UOffsetTFlags.py_type(VARIABLE_FRAME_STREAMS), 0)

def AddVARIABLE_FRAME_STREAMS(builder, VARIABLE_FRAME_STREAMS):
    StreamSetAddVARIABLE_FRAME_STREAMS(builder, VARIABLE_FRAME_STREAMS)

def StreamSetStartVARIABLE_FRAME_STREAMSVector(builder, numElems):
    return builder.StartVector(4, numElems, 4)

def StartVARIABLE_FRAME_STREAMSVector(builder, numElems):
    return StreamSetStartVARIABLE_FRAME_STREAMSVector(builder, numElems)

def StreamSetAddCUSTOM_STREAMS(builder, CUSTOM_STREAMS):
    builder.PrependUOffsetTRelativeSlot(2, flatbuffers.number_types.UOffsetTFlags.py_type(CUSTOM_STREAMS), 0)

def AddCUSTOM_STREAMS(builder, CUSTOM_STREAMS):
    StreamSetAddCUSTOM_STREAMS(builder, CUSTOM_STREAMS)

def StreamSetStartCUSTOM_STREAMSVector(builder, numElems):
    return builder.StartVector(4, numElems, 4)

def StartCUSTOM_STREAMSVector(builder, numElems):
    return StreamSetStartCUSTOM_STREAMSVector(builder, numElems)

def StreamSetEnd(builder):
    return builder.EndObject()

def End(builder):
    return StreamSetEnd(builder)

import CustomStream
import FixedFrameStream
import VariableFrameStream
try:
    from typing import List
except:
    pass

class StreamSetT(object):

    # StreamSetT
    def __init__(self):
        self.FIXED_FRAME_STREAMS = None  # type: List[FixedFrameStream.FixedFrameStreamT]
        self.VARIABLE_FRAME_STREAMS = None  # type: List[VariableFrameStream.VariableFrameStreamT]
        self.CUSTOM_STREAMS = None  # type: List[CustomStream.CustomStreamT]

    @classmethod
    def InitFromBuf(cls, buf, pos):
        streamSet = StreamSet()
        streamSet.Init(buf, pos)
        return cls.InitFromObj(streamSet)

    @classmethod
    def InitFromPackedBuf(cls, buf, pos=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, pos)
        return cls.InitFromBuf(buf, pos+n)

    @classmethod
    def InitFromObj(cls, streamSet):
        x = StreamSetT()
        x._UnPack(streamSet)
        return x

    # StreamSetT
    def _UnPack(self, streamSet):
        if streamSet is None:
            return
        if not streamSet.FIXED_FRAME_STREAMSIsNone():
            self.FIXED_FRAME_STREAMS = []
            for i in range(streamSet.FIXED_FRAME_STREAMSLength()):
                if streamSet.FIXED_FRAME_STREAMS(i) is None:
                    self.FIXED_FRAME_STREAMS.append(None)
                else:
                    fixedFrameStream_ = FixedFrameStream.FixedFrameStreamT.InitFromObj(streamSet.FIXED_FRAME_STREAMS(i))
                    self.FIXED_FRAME_STREAMS.append(fixedFrameStream_)
        if not streamSet.VARIABLE_FRAME_STREAMSIsNone():
            self.VARIABLE_FRAME_STREAMS = []
            for i in range(streamSet.VARIABLE_FRAME_STREAMSLength()):
                if streamSet.VARIABLE_FRAME_STREAMS(i) is None:
                    self.VARIABLE_FRAME_STREAMS.append(None)
                else:
                    variableFrameStream_ = VariableFrameStream.VariableFrameStreamT.InitFromObj(streamSet.VARIABLE_FRAME_STREAMS(i))
                    self.VARIABLE_FRAME_STREAMS.append(variableFrameStream_)
        if not streamSet.CUSTOM_STREAMSIsNone():
            self.CUSTOM_STREAMS = []
            for i in range(streamSet.CUSTOM_STREAMSLength()):
                if streamSet.CUSTOM_STREAMS(i) is None:
                    self.CUSTOM_STREAMS.append(None)
                else:
                    customStream_ = CustomStream.CustomStreamT.InitFromObj(streamSet.CUSTOM_STREAMS(i))
                    self.CUSTOM_STREAMS.append(customStream_)

    # StreamSetT
    def Pack(self, builder):
        if self.FIXED_FRAME_STREAMS is not None:
            FIXED_FRAME_STREAMSlist = []
            for i in range(len(self.FIXED_FRAME_STREAMS)):
                FIXED_FRAME_STREAMSlist.append(self.FIXED_FRAME_STREAMS[i].Pack(builder))
            StreamSetStartFIXED_FRAME_STREAMSVector(builder, len(self.FIXED_FRAME_STREAMS))
            for i in reversed(range(len(self.FIXED_FRAME_STREAMS))):
                builder.PrependUOffsetTRelative(FIXED_FRAME_STREAMSlist[i])
            FIXED_FRAME_STREAMS = builder.EndVector()
        if self.VARIABLE_FRAME_STREAMS is not None:
            VARIABLE_FRAME_STREAMSlist = []
            for i in range(len(self.VARIABLE_FRAME_STREAMS)):
                VARIABLE_FRAME_STREAMSlist.append(self.VARIABLE_FRAME_STREAMS[i].Pack(builder))
            StreamSetStartVARIABLE_FRAME_STREAMSVector(builder, len(self.VARIABLE_FRAME_STREAMS))
            for i in reversed(range(len(self.VARIABLE_FRAME_STREAMS))):
                builder.PrependUOffsetTRelative(VARIABLE_FRAME_STREAMSlist[i])
            VARIABLE_FRAME_STREAMS = builder.EndVector()
        if self.CUSTOM_STREAMS is not None:
            CUSTOM_STREAMSlist = []
            for i in range(len(self.CUSTOM_STREAMS)):
                CUSTOM_STREAMSlist.append(self.CUSTOM_STREAMS[i].Pack(builder))
            StreamSetStartCUSTOM_STREAMSVector(builder, len(self.CUSTOM_STREAMS))
            for i in reversed(range(len(self.CUSTOM_STREAMS))):
                builder.PrependUOffsetTRelative(CUSTOM_STREAMSlist[i])
            CUSTOM_STREAMS = builder.EndVector()
        StreamSetStart(builder)
        if self.FIXED_FRAME_STREAMS is not None:
            StreamSetAddFIXED_FRAME_STREAMS(builder, FIXED_FRAME_STREAMS)
        if self.VARIABLE_FRAME_STREAMS is not None:
            StreamSetAddVARIABLE_FRAME_STREAMS(builder, VARIABLE_FRAME_STREAMS)
        if self.CUSTOM_STREAMS is not None:
            StreamSetAddCUSTOM_STREAMS(builder, CUSTOM_STREAMS)
        streamSet = StreamSetEnd(builder)
        return streamSet
