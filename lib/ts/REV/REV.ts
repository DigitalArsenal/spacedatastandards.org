// automatically generated by the FlatBuffers compiler, do not modify

/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/no-explicit-any, @typescript-eslint/no-non-null-assertion */

import * as flatbuffers from 'flatbuffers';



/**
 * Review - User review of a storefront listing
 */
export class REV implements flatbuffers.IUnpackableObject<REVT> {
  bb: flatbuffers.ByteBuffer|null = null;
  bb_pos = 0;
  __init(i:number, bb:flatbuffers.ByteBuffer):REV {
  this.bb_pos = i;
  this.bb = bb;
  return this;
}

static getRootAsREV(bb:flatbuffers.ByteBuffer, obj?:REV):REV {
  return (obj || new REV()).__init(bb.readInt32(bb.position()) + bb.position(), bb);
}

static getSizePrefixedRootAsREV(bb:flatbuffers.ByteBuffer, obj?:REV):REV {
  bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);
  return (obj || new REV()).__init(bb.readInt32(bb.position()) + bb.position(), bb);
}

static bufferHasIdentifier(bb:flatbuffers.ByteBuffer):boolean {
  return bb.__has_identifier('$REV');
}

/**
 * Unique identifier for this review
 */
REVIEW_ID():string|null
REVIEW_ID(optionalEncoding:flatbuffers.Encoding):string|Uint8Array|null
REVIEW_ID(optionalEncoding?:any):string|Uint8Array|null {
  const offset = this.bb!.__offset(this.bb_pos, 4);
  return offset ? this.bb!.__string(this.bb_pos + offset, optionalEncoding) : null;
}

/**
 * ID of the listing being reviewed
 */
LISTING_ID():string|null
LISTING_ID(optionalEncoding:flatbuffers.Encoding):string|Uint8Array|null
LISTING_ID(optionalEncoding?:any):string|Uint8Array|null {
  const offset = this.bb!.__offset(this.bb_pos, 6);
  return offset ? this.bb!.__string(this.bb_pos + offset, optionalEncoding) : null;
}

/**
 * Peer ID of the reviewer
 */
REVIEWER_PEER_ID():string|null
REVIEWER_PEER_ID(optionalEncoding:flatbuffers.Encoding):string|Uint8Array|null
REVIEWER_PEER_ID(optionalEncoding?:any):string|Uint8Array|null {
  const offset = this.bb!.__offset(this.bb_pos, 8);
  return offset ? this.bb!.__string(this.bb_pos + offset, optionalEncoding) : null;
}

/**
 * Rating from 1-5 stars
 */
RATING():number {
  const offset = this.bb!.__offset(this.bb_pos, 10);
  return offset ? this.bb!.readUint8(this.bb_pos + offset) : 0;
}

/**
 * Review title
 */
TITLE():string|null
TITLE(optionalEncoding:flatbuffers.Encoding):string|Uint8Array|null
TITLE(optionalEncoding?:any):string|Uint8Array|null {
  const offset = this.bb!.__offset(this.bb_pos, 12);
  return offset ? this.bb!.__string(this.bb_pos + offset, optionalEncoding) : null;
}

/**
 * Review content/body
 */
CONTENT():string|null
CONTENT(optionalEncoding:flatbuffers.Encoding):string|Uint8Array|null
CONTENT(optionalEncoding?:any):string|Uint8Array|null {
  const offset = this.bb!.__offset(this.bb_pos, 14);
  return offset ? this.bb!.__string(this.bb_pos + offset, optionalEncoding) : null;
}

/**
 * ACL grant ID proving purchase (proof of purchase)
 */
ACL_GRANT_ID():string|null
ACL_GRANT_ID(optionalEncoding:flatbuffers.Encoding):string|Uint8Array|null
ACL_GRANT_ID(optionalEncoding?:any):string|Uint8Array|null {
  const offset = this.bb!.__offset(this.bb_pos, 16);
  return offset ? this.bb!.__string(this.bb_pos + offset, optionalEncoding) : null;
}

/**
 * Unix timestamp of the review
 */
TIMESTAMP():bigint {
  const offset = this.bb!.__offset(this.bb_pos, 18);
  return offset ? this.bb!.readUint64(this.bb_pos + offset) : BigInt('0');
}

/**
 * Ed25519 signature from reviewer
 */
REVIEWER_SIGNATURE(index: number):number|null {
  const offset = this.bb!.__offset(this.bb_pos, 20);
  return offset ? this.bb!.readUint8(this.bb!.__vector(this.bb_pos + offset) + index) : 0;
}

reviewerSignatureLength():number {
  const offset = this.bb!.__offset(this.bb_pos, 20);
  return offset ? this.bb!.__vector_len(this.bb_pos + offset) : 0;
}

reviewerSignatureArray():Uint8Array|null {
  const offset = this.bb!.__offset(this.bb_pos, 20);
  return offset ? new Uint8Array(this.bb!.bytes().buffer, this.bb!.bytes().byteOffset + this.bb!.__vector(this.bb_pos + offset), this.bb!.__vector_len(this.bb_pos + offset)) : null;
}

static startREV(builder:flatbuffers.Builder) {
  builder.startObject(9);
}

static addReviewId(builder:flatbuffers.Builder, REVIEW_IDOffset:flatbuffers.Offset) {
  builder.addFieldOffset(0, REVIEW_IDOffset, 0);
}

static addListingId(builder:flatbuffers.Builder, LISTING_IDOffset:flatbuffers.Offset) {
  builder.addFieldOffset(1, LISTING_IDOffset, 0);
}

static addReviewerPeerId(builder:flatbuffers.Builder, REVIEWER_PEER_IDOffset:flatbuffers.Offset) {
  builder.addFieldOffset(2, REVIEWER_PEER_IDOffset, 0);
}

static addRating(builder:flatbuffers.Builder, RATING:number) {
  builder.addFieldInt8(3, RATING, 0);
}

static addTitle(builder:flatbuffers.Builder, TITLEOffset:flatbuffers.Offset) {
  builder.addFieldOffset(4, TITLEOffset, 0);
}

static addContent(builder:flatbuffers.Builder, CONTENTOffset:flatbuffers.Offset) {
  builder.addFieldOffset(5, CONTENTOffset, 0);
}

static addAclGrantId(builder:flatbuffers.Builder, ACL_GRANT_IDOffset:flatbuffers.Offset) {
  builder.addFieldOffset(6, ACL_GRANT_IDOffset, 0);
}

static addTimestamp(builder:flatbuffers.Builder, TIMESTAMP:bigint) {
  builder.addFieldInt64(7, TIMESTAMP, BigInt('0'));
}

static addReviewerSignature(builder:flatbuffers.Builder, REVIEWER_SIGNATUREOffset:flatbuffers.Offset) {
  builder.addFieldOffset(8, REVIEWER_SIGNATUREOffset, 0);
}

static createReviewerSignatureVector(builder:flatbuffers.Builder, data:number[]|Uint8Array):flatbuffers.Offset {
  builder.startVector(1, data.length, 1);
  for (let i = data.length - 1; i >= 0; i--) {
    builder.addInt8(data[i]!);
  }
  return builder.endVector();
}

static startReviewerSignatureVector(builder:flatbuffers.Builder, numElems:number) {
  builder.startVector(1, numElems, 1);
}

static endREV(builder:flatbuffers.Builder):flatbuffers.Offset {
  const offset = builder.endObject();
  builder.requiredField(offset, 4) // REVIEW_ID
  builder.requiredField(offset, 6) // LISTING_ID
  builder.requiredField(offset, 8) // REVIEWER_PEER_ID
  return offset;
}

static finishREVBuffer(builder:flatbuffers.Builder, offset:flatbuffers.Offset) {
  builder.finish(offset, '$REV');
}

static finishSizePrefixedREVBuffer(builder:flatbuffers.Builder, offset:flatbuffers.Offset) {
  builder.finish(offset, '$REV', true);
}

static createREV(builder:flatbuffers.Builder, REVIEW_IDOffset:flatbuffers.Offset, LISTING_IDOffset:flatbuffers.Offset, REVIEWER_PEER_IDOffset:flatbuffers.Offset, RATING:number, TITLEOffset:flatbuffers.Offset, CONTENTOffset:flatbuffers.Offset, ACL_GRANT_IDOffset:flatbuffers.Offset, TIMESTAMP:bigint, REVIEWER_SIGNATUREOffset:flatbuffers.Offset):flatbuffers.Offset {
  REV.startREV(builder);
  REV.addReviewId(builder, REVIEW_IDOffset);
  REV.addListingId(builder, LISTING_IDOffset);
  REV.addReviewerPeerId(builder, REVIEWER_PEER_IDOffset);
  REV.addRating(builder, RATING);
  REV.addTitle(builder, TITLEOffset);
  REV.addContent(builder, CONTENTOffset);
  REV.addAclGrantId(builder, ACL_GRANT_IDOffset);
  REV.addTimestamp(builder, TIMESTAMP);
  REV.addReviewerSignature(builder, REVIEWER_SIGNATUREOffset);
  return REV.endREV(builder);
}

unpack(): REVT {
  return new REVT(
    this.REVIEW_ID(),
    this.LISTING_ID(),
    this.REVIEWER_PEER_ID(),
    this.RATING(),
    this.TITLE(),
    this.CONTENT(),
    this.ACL_GRANT_ID(),
    this.TIMESTAMP(),
    this.bb!.createScalarList<number>(this.REVIEWER_SIGNATURE.bind(this), this.reviewerSignatureLength())
  );
}


unpackTo(_o: REVT): void {
  _o.REVIEW_ID = this.REVIEW_ID();
  _o.LISTING_ID = this.LISTING_ID();
  _o.REVIEWER_PEER_ID = this.REVIEWER_PEER_ID();
  _o.RATING = this.RATING();
  _o.TITLE = this.TITLE();
  _o.CONTENT = this.CONTENT();
  _o.ACL_GRANT_ID = this.ACL_GRANT_ID();
  _o.TIMESTAMP = this.TIMESTAMP();
  _o.REVIEWER_SIGNATURE = this.bb!.createScalarList<number>(this.REVIEWER_SIGNATURE.bind(this), this.reviewerSignatureLength());
}
}

export class REVT implements flatbuffers.IGeneratedObject {
constructor(
  public REVIEW_ID: string|Uint8Array|null = null,
  public LISTING_ID: string|Uint8Array|null = null,
  public REVIEWER_PEER_ID: string|Uint8Array|null = null,
  public RATING: number = 0,
  public TITLE: string|Uint8Array|null = null,
  public CONTENT: string|Uint8Array|null = null,
  public ACL_GRANT_ID: string|Uint8Array|null = null,
  public TIMESTAMP: bigint = BigInt('0'),
  public REVIEWER_SIGNATURE: (number)[] = []
){}


pack(builder:flatbuffers.Builder): flatbuffers.Offset {
  const REVIEW_ID = (this.REVIEW_ID !== null ? builder.createString(this.REVIEW_ID!) : 0);
  const LISTING_ID = (this.LISTING_ID !== null ? builder.createString(this.LISTING_ID!) : 0);
  const REVIEWER_PEER_ID = (this.REVIEWER_PEER_ID !== null ? builder.createString(this.REVIEWER_PEER_ID!) : 0);
  const TITLE = (this.TITLE !== null ? builder.createString(this.TITLE!) : 0);
  const CONTENT = (this.CONTENT !== null ? builder.createString(this.CONTENT!) : 0);
  const ACL_GRANT_ID = (this.ACL_GRANT_ID !== null ? builder.createString(this.ACL_GRANT_ID!) : 0);
  const REVIEWER_SIGNATURE = REV.createReviewerSignatureVector(builder, this.REVIEWER_SIGNATURE);

  return REV.createREV(builder,
    REVIEW_ID,
    LISTING_ID,
    REVIEWER_PEER_ID,
    this.RATING,
    TITLE,
    CONTENT,
    ACL_GRANT_ID,
    this.TIMESTAMP,
    REVIEWER_SIGNATURE
  );
}
}
