enum referenceFrame : byte {
/// Earth Mean Equator and Equinox of J2000
EME2000,
///  Geocentric Celestial Reference Frame
GCRF,
/// Greenwich Rotating Coordinates
GRC,
/// International Celestial Reference Frame
ICRF,
/// International Terrestrial Reference Frame 2000
ITRF2000,
/// International Terrestrial Reference Frame 1993
ITRF93, 
/// International Terrestrial Reference Frame 1997
ITRF97,
/// Mars Centered Inertial
MCI,
/// True of Date, Rotating
TDR,
/// True Equator Mean Equinox
TEME,
/// True of Date
TOD, 
}

enum timeSystem : byte {
  /// Greenwich Mean Sidereal Time
  GMST,
  /// Global Positioning System
  GPS,
  /// Mission Elapsed Time
  MET,
  /// Mission Relative Time
  MRT,
  /// Spacecraft Clock (receiver) (requires rules for interpretation in ICD)
  SCLK,
  /// International Atomic Time
  TAI,
  /// Barycentric Coordinate Time
  TCB,
  /// Barycentric Dynamical Time
  TDB,
  /// Geocentric Coordinate Time
  TCG,
  /// Terrestrial Time
  TT,
  /// Universal Time
  UT1,
  /// Coordinated Universal Time 
  UTC
}

enum manCovRefFrame : byte {
  // Another name for ‘Radial, Transverse, Normal’
  RSW,
  // Radial, Transverse, Normal
  RTN,
  // A local orbital coordinate frame (x velocity vec., w orbital angular momentum vec., N completes right handed system.)
  TNW
}

table maneuverParameters {
  // Maneuver Parameters (Repeat for each maneuver. None or all parameters of this block must be given.)
  MAN_EPOCH_IGNITION:string;
  MAN_DURATION:double;
  MAN_DELTA_MASS:double;
  MAN_REF_FRAME:manCovRefFrame;
  MAN_DV_1:double;
  MAN_DV_2:double;
  MAN_DV_3:double;
}

table OPM {
  // OPM Header
  CCSDS_OPM_VERS:double = null;
  CREATION_DATE:string;
  ORIGINATOR:string;

  // OPM Metadata
  OBJECT_NAME:string;
  OBJECT_ID:string;
  CENTER_NAME:string;
  REF_FRAME:referenceFrame;
  REF_FRAME_EPOCH:string;
  TIME_SYSTEM:timeSystem;
  
  // State Vector Components in the Specified Coordinate System
  COMMENT:string;
  EPOCH:string;
  X:double;
  Y:double;
  Z:double;
  X_DOT:double;
  Y_DOT:double;
  Z_DOT:double;

  // Osculating Keplerian Elements in the Specified Reference Frame (none or all parameters of this block must be given.)
  SEMI_MAJOR_AXIS:double = null;
  ECCENTRICITY:double = null;
  INCLINATION:double = null;
  RA_OF_ASC_NODE:double = null;
  ARG_OF_PERICENTER:double = null;
  TRUE_ANOMALY:double = null;
  MEAN_ANOMALY:double = null;
  GM:double = null;
  
  // Spacecraft Parameters
  MASS:double = null;
  SOLAR_RAD_AREA:double = null;
  SOLAR_RAD_COEFF:double = null;
  DRAG_AREA:double = null;
  DRAG_COEFF:double = null;

  // Position/Velocity Covariance Matrix (6x6 Lower Triangular Form. None or all parameters of the matrix must be given.
  // COV_REF_FRAME may be omitted if it is the same as the metadata REF_FRAME.) 
  COV_REF_FRAME:manCovRefFrame;
  CX_X:double = null;
  CY_X:double = null;
  CY_Y:double = null;
  CZ_X:double = null;
  CZ_Y:double = null;
  CZ_Z:double = null;
  CX_DOT_X:double = null;
  CX_DOT_Y:double = null;
  CX_DOT_Z:double = null;
  CX_DOT_X_DOT:double = null;
  CY_DOT_X:double = null;
  CY_DOT_Y:double = null;
  CY_DOT_Z:double = null;
  CY_DOT_X_DOT:double = null;
  CY_DOT_Y_DOT:double = null;
  CZ_DOT_X:double = null;
  CZ_DOT_Y:double = null;
  CZ_DOT_Z:double = null;
  CZ_DOT_X_DOT:double = null;
  CZ_DOT_Y_DOT:double = null;
  CZ_DOT_Z_DOT:double = null;

  MANEUVERS:[maneuverParameters];

  // User Defined Parameters (all parameters in this section must be described in an ICD). 
  USER_DEFINED_BIP_0044_TYPE:uint;
  USER_DEFINED_OBJECT_DESIGNATOR:string;
  USER_DEFINED_EARTH_MODEL:string;
  USER_DEFINED_EPOCH_TIMESTAMP: double = null;
  USER_DEFINED_MICROSECONDS: double = null;
}

table OPMCOLLECTION {
  RECORDS:[OPM];
}

root_type OPM;
file_identifier "$OPM";
